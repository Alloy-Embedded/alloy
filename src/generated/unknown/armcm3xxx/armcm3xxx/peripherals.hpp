/// Auto-generated code for ARMCM3xxx
/// Generated by Alloy Code Generator
/// Source: arm_sample_arm.json
/// DO NOT EDIT - Changes will be overwritten
///
/// Generated: 2025-10-31 12:00:36
#ifndef ALLOY_GENERATED_ARMCM3XXX_PERIPHERALS_HPP
#define ALLOY_GENERATED_ARMCM3XXX_PERIPHERALS_HPP

#include <cstdint>

namespace alloy::generated::armcm3xxx {

/// Memory map
namespace memory {
    constexpr uint32_t FLASH_BASE = 0x08000000;
    constexpr uint32_t FLASH_SIZE = 64 * 1024;
    constexpr uint32_t RAM_BASE   = 0x20000000;
    constexpr uint32_t RAM_SIZE   = 20 * 1024;
}

// ============================================================================
// MCU Resource Metadata
// ============================================================================

/// MCU capabilities and resource availability
namespace traits {
    // Flash and RAM
    constexpr uint32_t flash_size_kb = 64;
    constexpr uint32_t ram_size_kb = 20;

    // Peripheral availability
    constexpr bool has_tim = true;
    constexpr uint32_t num_tim_instances = 3;

    // Helper templates for compile-time validation
    template<typename T>
    struct peripheral_count;

    template<>
    struct peripheral_count<struct tim_tag> {
        static constexpr uint32_t value = 3;
    };

    // GPIO-specific traits

    // USART-specific traits
}

// ============================================================================
// TIM Peripheral
// ============================================================================

namespace tim {
    /// Base addresses
    constexpr uint32_t TIMER0_BASE = 0x40010000;
    constexpr uint32_t TIMER1_BASE = 0x40010100;
    constexpr uint32_t TIMER2_BASE = 0x40010200;

    /// TIM Register structure
    struct Registers {
        volatile uint32_t CR;  ///< Offset: 0x00 - Control Register
        volatile uint32_t SR;  ///< Offset: 0x04 - Status Register
        volatile uint32_t INT;  ///< Offset: 0x10 - Interrupt Register
        volatile uint32_t COUNT;  ///< Offset: 0x20 - The Counter Register reflects the actual Value of the...
        volatile uint32_t MATCH;  ///< Offset: 0x24 - The Match Register stores the compare Value for the...
        volatile uint32_t PRESCALE_RD;  ///< Offset: 0x28 - The Prescale Register stores the Value for the...
        volatile uint32_t PRESCALE_WR;  ///< Offset: 0x28 - The Prescale Register stores the Value for the...
        volatile uint32_t RELOAD[%s];  ///< Offset: 0x50 - The Reload Register stores the Value the COUNT Register...
    };

    /// Peripheral instances
    inline Registers* TIMER0 = reinterpret_cast<Registers*>(TIMER0_BASE);
    inline Registers* TIMER1 = reinterpret_cast<Registers*>(TIMER1_BASE);
    inline Registers* TIMER2 = reinterpret_cast<Registers*>(TIMER2_BASE);

}


} // namespace alloy::generated::armcm3xxx

#endif // ALLOY_GENERATED_ARMCM3XXX_PERIPHERALS_HPP