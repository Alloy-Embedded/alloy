/// Auto-generated startup code for ATSAMD51G18A
/// Generated by Alloy SVD Code Generator
/// DO NOT EDIT - Regenerate from SVD if needed

#include <cstdint>
#include <cstring>

// Linker script symbols
extern uint32_t _sidata;  // Start of .data in flash
extern uint32_t _sdata;   // Start of .data in RAM
extern uint32_t _edata;   // End of .data in RAM
extern uint32_t _sbss;    // Start of .bss
extern uint32_t _ebss;    // End of .bss

// Stack top (defined in linker script)
extern uint32_t _estack;

// User application entry point
extern "C" int main();

// System initialization (weak, can be overridden)
extern "C" void SystemInit() __attribute__((weak));
extern "C" void SystemInit() {}

// Default handler for unhandled interrupts
extern "C" [[noreturn]] void Default_Handler() {
    while (true) {
        // Trap
    }
}

// Interrupt handlers (weak, can be overridden)
extern "C" void PM_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void MCLK_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void OSCCTRL_XOSC0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void OSCCTRL_XOSC1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void OSCCTRL_DFLL_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void OSCCTRL_DPLL0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void OSCCTRL_DPLL1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void OSC32KCTRL_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SUPC_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SUPC_BODDET_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void WDT_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void RTC_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_3_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_4_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_5_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_6_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_7_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_8_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_9_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_10_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_11_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_12_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_13_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_14_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EIC_EXTINT_15_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void FREQM_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void NVMCTRL_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void NVMCTRL_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DMAC_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DMAC_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DMAC_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DMAC_3_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DMAC_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EVSYS_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EVSYS_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EVSYS_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EVSYS_3_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void EVSYS_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void PAC_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void RAMECC_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM0_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM0_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM0_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM0_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM1_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM1_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM1_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM1_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM2_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM2_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM2_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM2_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM3_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM3_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM3_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM3_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM4_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM4_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM4_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM4_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM5_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM5_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM5_2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SERCOM5_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void USB_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void USB_SOF_HSOF_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void USB_TRCPT0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void USB_TRCPT1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_MC0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_MC1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_MC2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_MC3_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_MC4_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC0_MC5_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC1_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC1_MC0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC1_MC1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC1_MC2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC1_MC3_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC2_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC2_MC0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC2_MC1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TCC2_MC2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TC0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TC1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TC2_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TC3_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void PDEC_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void PDEC_MC0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void PDEC_MC1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void ADC0_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void ADC0_RESRDY_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void ADC1_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void ADC1_RESRDY_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void AC_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DAC_OTHER_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DAC_EMPTY_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DAC_EMPTY_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DAC_RESRDY_0_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void DAC_RESRDY_1_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void PCC_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void AES_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void TRNG_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void ICM_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void QSPI_Handler() __attribute__((weak, alias("Default_Handler")));
extern "C" void SDHC0_Handler() __attribute__((weak, alias("Default_Handler")));

// Reset Handler - Entry point after reset
extern "C" [[noreturn]] void Reset_Handler() {
    // 1. Copy .data section from Flash to RAM
    uint32_t* src = &_sidata;
    uint32_t* dest = &_sdata;
    while (dest < &_edata) {
        *dest++ = *src++;
    }

    // 2. Zero out .bss section
    dest = &_sbss;
    while (dest < &_ebss) {
        *dest++ = 0;
    }

    // 3. Call system initialization
    SystemInit();

    // 4. Call static constructors
    extern void (*__init_array_start[])();
    extern void (*__init_array_end[])();
    for (auto ctor = __init_array_start; ctor < __init_array_end; ++ctor) {
        (*ctor)();
    }

    // 5. Call main
    main();

    // 6. If main returns, loop forever
    while (true) {}
}

// Vector table
__attribute__((section(".isr_vector"), used)) void (*const vector_table[])() = {
    reinterpret_cast<void (*)()>(&_estack),  // Initial stack pointer
    Reset_Handler,                           // Reset handler
    PM_Handler,                              // IRQ 0: PM
    MCLK_Handler,                            // IRQ 1: MCLK
    OSCCTRL_XOSC0_Handler,                   // IRQ 2: OSCCTRL_XOSC0
    OSCCTRL_XOSC1_Handler,                   // IRQ 3: OSCCTRL_XOSC1
    OSCCTRL_DFLL_Handler,                    // IRQ 4: OSCCTRL_DFLL
    OSCCTRL_DPLL0_Handler,                   // IRQ 5: OSCCTRL_DPLL0
    OSCCTRL_DPLL1_Handler,                   // IRQ 6: OSCCTRL_DPLL1
    OSC32KCTRL_Handler,                      // IRQ 7: OSC32KCTRL
    SUPC_OTHER_Handler,                      // IRQ 8: SUPC_OTHER
    SUPC_BODDET_Handler,                     // IRQ 9: SUPC_BODDET
    WDT_Handler,                             // IRQ 10: WDT
    RTC_Handler,                             // IRQ 11: RTC
    EIC_EXTINT_0_Handler,                    // IRQ 12: EIC_EXTINT_0
    EIC_EXTINT_1_Handler,                    // IRQ 13: EIC_EXTINT_1
    EIC_EXTINT_2_Handler,                    // IRQ 14: EIC_EXTINT_2
    EIC_EXTINT_3_Handler,                    // IRQ 15: EIC_EXTINT_3
    EIC_EXTINT_4_Handler,                    // IRQ 16: EIC_EXTINT_4
    EIC_EXTINT_5_Handler,                    // IRQ 17: EIC_EXTINT_5
    EIC_EXTINT_6_Handler,                    // IRQ 18: EIC_EXTINT_6
    EIC_EXTINT_7_Handler,                    // IRQ 19: EIC_EXTINT_7
    EIC_EXTINT_8_Handler,                    // IRQ 20: EIC_EXTINT_8
    EIC_EXTINT_9_Handler,                    // IRQ 21: EIC_EXTINT_9
    EIC_EXTINT_10_Handler,                   // IRQ 22: EIC_EXTINT_10
    EIC_EXTINT_11_Handler,                   // IRQ 23: EIC_EXTINT_11
    EIC_EXTINT_12_Handler,                   // IRQ 24: EIC_EXTINT_12
    EIC_EXTINT_13_Handler,                   // IRQ 25: EIC_EXTINT_13
    EIC_EXTINT_14_Handler,                   // IRQ 26: EIC_EXTINT_14
    EIC_EXTINT_15_Handler,                   // IRQ 27: EIC_EXTINT_15
    FREQM_Handler,                           // IRQ 28: FREQM
    NVMCTRL_0_Handler,                       // IRQ 29: NVMCTRL_0
    NVMCTRL_1_Handler,                       // IRQ 30: NVMCTRL_1
    DMAC_0_Handler,                          // IRQ 31: DMAC_0
    DMAC_1_Handler,                          // IRQ 32: DMAC_1
    DMAC_2_Handler,                          // IRQ 33: DMAC_2
    DMAC_3_Handler,                          // IRQ 34: DMAC_3
    DMAC_OTHER_Handler,                      // IRQ 35: DMAC_OTHER
    EVSYS_0_Handler,                         // IRQ 36: EVSYS_0
    EVSYS_1_Handler,                         // IRQ 37: EVSYS_1
    EVSYS_2_Handler,                         // IRQ 38: EVSYS_2
    EVSYS_3_Handler,                         // IRQ 39: EVSYS_3
    EVSYS_OTHER_Handler,                     // IRQ 40: EVSYS_OTHER
    PAC_Handler,                             // IRQ 41: PAC
    RAMECC_Handler,                          // IRQ 45: RAMECC
    SERCOM0_0_Handler,                       // IRQ 46: SERCOM0_0
    SERCOM0_1_Handler,                       // IRQ 47: SERCOM0_1
    SERCOM0_2_Handler,                       // IRQ 48: SERCOM0_2
    SERCOM0_OTHER_Handler,                   // IRQ 49: SERCOM0_OTHER
    SERCOM1_0_Handler,                       // IRQ 50: SERCOM1_0
    SERCOM1_1_Handler,                       // IRQ 51: SERCOM1_1
    SERCOM1_2_Handler,                       // IRQ 52: SERCOM1_2
    SERCOM1_OTHER_Handler,                   // IRQ 53: SERCOM1_OTHER
    SERCOM2_0_Handler,                       // IRQ 54: SERCOM2_0
    SERCOM2_1_Handler,                       // IRQ 55: SERCOM2_1
    SERCOM2_2_Handler,                       // IRQ 56: SERCOM2_2
    SERCOM2_OTHER_Handler,                   // IRQ 57: SERCOM2_OTHER
    SERCOM3_0_Handler,                       // IRQ 58: SERCOM3_0
    SERCOM3_1_Handler,                       // IRQ 59: SERCOM3_1
    SERCOM3_2_Handler,                       // IRQ 60: SERCOM3_2
    SERCOM3_OTHER_Handler,                   // IRQ 61: SERCOM3_OTHER
    SERCOM4_0_Handler,                       // IRQ 62: SERCOM4_0
    SERCOM4_1_Handler,                       // IRQ 63: SERCOM4_1
    SERCOM4_2_Handler,                       // IRQ 64: SERCOM4_2
    SERCOM4_OTHER_Handler,                   // IRQ 65: SERCOM4_OTHER
    SERCOM5_0_Handler,                       // IRQ 66: SERCOM5_0
    SERCOM5_1_Handler,                       // IRQ 67: SERCOM5_1
    SERCOM5_2_Handler,                       // IRQ 68: SERCOM5_2
    SERCOM5_OTHER_Handler,                   // IRQ 69: SERCOM5_OTHER
    USB_OTHER_Handler,                       // IRQ 80: USB_OTHER
    USB_SOF_HSOF_Handler,                    // IRQ 81: USB_SOF_HSOF
    USB_TRCPT0_Handler,                      // IRQ 82: USB_TRCPT0
    USB_TRCPT1_Handler,                      // IRQ 83: USB_TRCPT1
    TCC0_OTHER_Handler,                      // IRQ 85: TCC0_OTHER
    TCC0_MC0_Handler,                        // IRQ 86: TCC0_MC0
    TCC0_MC1_Handler,                        // IRQ 87: TCC0_MC1
    TCC0_MC2_Handler,                        // IRQ 88: TCC0_MC2
    TCC0_MC3_Handler,                        // IRQ 89: TCC0_MC3
    TCC0_MC4_Handler,                        // IRQ 90: TCC0_MC4
    TCC0_MC5_Handler,                        // IRQ 91: TCC0_MC5
    TCC1_OTHER_Handler,                      // IRQ 92: TCC1_OTHER
    TCC1_MC0_Handler,                        // IRQ 93: TCC1_MC0
    TCC1_MC1_Handler,                        // IRQ 94: TCC1_MC1
    TCC1_MC2_Handler,                        // IRQ 95: TCC1_MC2
    TCC1_MC3_Handler,                        // IRQ 96: TCC1_MC3
    TCC2_OTHER_Handler,                      // IRQ 97: TCC2_OTHER
    TCC2_MC0_Handler,                        // IRQ 98: TCC2_MC0
    TCC2_MC1_Handler,                        // IRQ 99: TCC2_MC1
    TCC2_MC2_Handler,                        // IRQ 100: TCC2_MC2
    TC0_Handler,                             // IRQ 107: TC0
    TC1_Handler,                             // IRQ 108: TC1
    TC2_Handler,                             // IRQ 109: TC2
    TC3_Handler,                             // IRQ 110: TC3
    PDEC_OTHER_Handler,                      // IRQ 115: PDEC_OTHER
    PDEC_MC0_Handler,                        // IRQ 116: PDEC_MC0
    PDEC_MC1_Handler,                        // IRQ 117: PDEC_MC1
    ADC0_OTHER_Handler,                      // IRQ 118: ADC0_OTHER
    ADC0_RESRDY_Handler,                     // IRQ 119: ADC0_RESRDY
    ADC1_OTHER_Handler,                      // IRQ 120: ADC1_OTHER
    ADC1_RESRDY_Handler,                     // IRQ 121: ADC1_RESRDY
    AC_Handler,                              // IRQ 122: AC
    DAC_OTHER_Handler,                       // IRQ 123: DAC_OTHER
    DAC_EMPTY_0_Handler,                     // IRQ 124: DAC_EMPTY_0
    DAC_EMPTY_1_Handler,                     // IRQ 125: DAC_EMPTY_1
    DAC_RESRDY_0_Handler,                    // IRQ 126: DAC_RESRDY_0
    DAC_RESRDY_1_Handler,                    // IRQ 127: DAC_RESRDY_1
    PCC_Handler,                             // IRQ 129: PCC
    AES_Handler,                             // IRQ 130: AES
    TRNG_Handler,                            // IRQ 131: TRNG
    ICM_Handler,                             // IRQ 132: ICM
    QSPI_Handler,                            // IRQ 134: QSPI
    SDHC0_Handler,                           // IRQ 135: SDHC0
};
