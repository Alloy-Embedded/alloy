/// Auto-generated pin alternate function mappings
/// Device: STM32F407
/// Vendor: STMicro
///
/// This file provides compile-time type-safe alternate function mapping
/// for MCU pins. Use the AF<Pin, Function> template to get the AF number.
///
/// DO NOT EDIT - Generated by Alloy Code Generator

#pragma once

#include <stdint.h>

namespace alloy::hal::st::stm32f4::stm32f407::pin_functions {

// ============================================================================
// PERIPHERAL SIGNAL TAG TYPES
// ============================================================================

// Peripheral signal tags for compile-time type safety
struct USART1_RX {};
struct USART1_TX {};
struct USART2_RX {};
struct USART2_TX {};

// ============================================================================
// ALTERNATE FUNCTION TEMPLATE
// ============================================================================

/// Template for alternate function mapping
/// @tparam Pin Pin number constant
/// @tparam Function Peripheral signal tag type
template <uint8_t Pin, typename Function>
struct AlternateFunction;

// ============================================================================
// ALTERNATE FUNCTION SPECIALIZATIONS
// ============================================================================

// PA10 alternate functions
template <>
struct AlternateFunction<PA10, USART1_RX> {
    static constexpr uint8_t af_number = 7;
};

// PA2 alternate functions
template <>
struct AlternateFunction<PA2, USART2_TX> {
    static constexpr uint8_t af_number = 7;
};

// PA3 alternate functions
template <>
struct AlternateFunction<PA3, USART2_RX> {
    static constexpr uint8_t af_number = 7;
};

// PA9 alternate functions
template <>
struct AlternateFunction<PA9, USART1_TX> {
    static constexpr uint8_t af_number = 7;
};

// ============================================================================
// CONVENIENCE ALIAS
// ============================================================================

/// Get AF number for pin/function combination at compile time
///
/// Usage:
///   constexpr uint8_t af = AF<PA9, USART1_TX>;  // Returns 7 (example)
///
/// Compile-time error if combination is invalid.
template <uint8_t Pin, typename Function>
constexpr uint8_t AF = AlternateFunction<Pin, Function>::af_number;

// ============================================================================
// COMPILE-TIME VALIDATION
// ============================================================================

/// Check if a pin/function combination is valid
///
/// Usage:
///   static_assert(HasAF<PA9, USART1_TX>, "PA9 does not support USART1_TX");
template <uint8_t Pin, typename Function>
concept HasAF = requires {
    { AlternateFunction<Pin, Function>::af_number } -> std::same_as<const uint8_t&>;
};

}  // namespace alloy::hal::st::stm32f4::stm32f407::pin_functions
